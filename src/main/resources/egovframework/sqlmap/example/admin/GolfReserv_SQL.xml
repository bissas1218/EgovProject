<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="GolfReserv">

	<typeAlias alias="egovMap" type="org.egovframe.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="golfReservVO" type="egovframework.program.reserve.service.GolfReservVO"/>
	
	<select id="golfReservDAO.selectGolfReservListCnt" parameterClass="golfReservVO" resultClass="golfReservVO">
	<![CDATA[
		select
			date,
			holiday_yn holiDayYn,
			count(date) cnt
		from
			golf_reserv
		where
			date >= #srtDate#
			and date <= #endDate#
		group by
			date
	]]>
	</select>
	
	<insert id="golfReservDAO.insertGolfReserv" parameterClass="golfReservVO">
	<![CDATA[
		INSERT INTO GOLF_RESERV (
			 DATE
			,COURSE
			,TIME
			,HOLE
			,CADDY
			,PERSON
			,GREEN_FEE
			,PART
			,HOLIDAY_YN
			,MEMBER_TYPE
		) VALUES (
			 #date#
			,#course#
			,#time#
			,#hole#
			,#caddy#
			,#person#
			,#greenFee#
			,#part#
			,#holiDayYn#
			,#memberType#
		)
	]]>
	</insert>
	
	<select id="golfReservDAO.selectGolfReservList" parameterClass="golfReservVO" resultClass="golfReservVO">
		SELECT   DATE date
				,COURSE course
				,TIME time
				,HOLE hole
				,CADDY caddy
				,PERSON person
				,GREEN_FEE greenFee
				,PART part
				,HOLIDAY_YN holidayYn
				,MEMBER_TYPE memberType
		FROM GOLF_RESERV WHERE DATE = #date#
		<isNotEqual prepend="AND" property="part" compareValue="all">
			PART = #part#
		</isNotEqual>
	</select>
	
</sqlMap>	