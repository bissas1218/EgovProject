<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Schedule">

	<typeAlias alias="scheduleVO" type="egovframework.example.sample.service.ScheduleVO"/>

	<insert id="scheduleMngDAO.insertSchedule" parameterClass="scheduleVO">
	<![CDATA[
		INSERT INTO SCHEDULE (
			 S_DATE
			,TITLE
			,SRT_TIME
			,END_TIME
		) VALUES (
			 #sDate#
			,#title#
			,#srtTime#
			,#endTime#
		)
	]]>
	</insert>
	
	<select id="scheduleMngDAO.selectScheduleList" parameterClass="String" resultClass="scheduleVO">
	<![CDATA[
		SELECT ID id, 
			S_DATE sDate, 
			TITLE title,
			SRT_TIME srtTime,
			END_TIME endTime,
			HOLIDAY_YN holiDayYn
		 FROM SCHEDULE WHERE S_DATE = #sDate#
	]]>
	</select>
	
	<select id="scheduleMngDAO.selectScheduleListCnt" parameterClass="scheduleVO" resultClass="scheduleVO">
	<![CDATA[ 
		select
			s_date sDate,
			holiday_yn holiDayYn,
			count(s_date) cnt
		from
			schedule
		where
			s_date >= #srtDate#
			and s_date <= #endDate#
		group by
			s_date
	]]>
	</select>
	
</sqlMap>